<!DOCTYPE html>
<html>
   <head>
      <link rel="stylesheet" href="style.css">
   </head>
   <body>
      <header>
         <h1>ARE WE RAIDING TODAY?</h1>
      </header>
      <main>
         <div id="raiding"></div>

     </main>
     <footer>
   <div id="nextDateText"></div>
<script>
const now = new Date();
const todayOnly = new Date(now.getFullYear(), now.getMonth(), now.getDate());

// Special dates in European format: [day, month (0-based), year]
const specialDatesEU = [
  [11, 3, 2025], // 11 April 2025
  [12, 3, 2025], // 12 April 2025
  [16, 3, 2025], // 16 April 2025
  [22, 3, 2025], // 22 April 2025
  [23, 3, 2025], // 23 April 2025
  [25, 3, 2025] // 25 April 2025
];

// Convert to Date objects
const specialDateObjs = specialDatesEU.map(d => new Date(d[2], d[1], d[0]));

// === Feature 1: Check if today is a special date
const isTodaySpecial = specialDateObjs.some(date =>
  date.getTime() === todayOnly.getTime()
);

let raiding;
if (isTodaySpecial) {
  raiding = "YES";
} else {
  raiding = "NO";
}
document.getElementById("raiding").innerHTML = raiding;

   const raidingElement = document.getElementById("raiding");
raidingElement.innerHTML = raiding;

// Remove any previous class just in case
raidingElement.classList.remove("raiding-yes", "raiding-no");

// Add the correct class based on value
if (raiding === "YES") {
  raidingElement.classList.add("raiding-yes");
} else {
  raidingElement.classList.add("raiding-no");
}

// === Feature 2: Find the next upcoming special date
const futureSpecialDates = specialDateObjs.filter(date => date >= todayOnly);
futureSpecialDates.sort((a, b) => a - b);

let nextDateText;
if (futureSpecialDates.length > 0) {
  const nextDate = futureSpecialDates[0];
  const options = { day: '2-digit', month: '2-digit', year: 'numeric' };
  const formatted = nextDate.toLocaleDateString('en-GB', options); // dd/mm/yyyy
  nextDateText = `Next raidday is: <strong>${formatted}</strong>`;
} else {
  nextDateText = "No upcoming raiddays.";
}

// === Final Output
document.getElementById("nextDateText").innerHTML = nextDateText;
</script>

     </footer>
   </body>
</html>
